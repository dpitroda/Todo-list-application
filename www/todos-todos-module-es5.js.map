{"version":3,"sources":["webpack:///src/app/todos/todos.page.html","webpack:///src/app/todos/todos-routing.module.ts","webpack:///src/app/todos/todos.module.ts","webpack:///src/app/todos/todos.page.scss","webpack:///src/app/todos/todos.page.ts"],"names":["routes","path","component","TodosPageRoutingModule","imports","forChild","exports","TodosPageModule","declarations","TodosPage","navCtrl","toastCtrl","todos","userId","currentUser","uid","getTodos","collection","where","onSnapshot","querySnapshot","docs","timestamp","date","toDate","toLocaleDateString","navigateForward","document","doc","id","set","merge","then","create","message","duration","toast","present","signOut","navigateRoot","err","console","log","selector","template"],"mappings":"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","file":"todos-todos-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"danger\\\">\\n    <ion-back-button color=\\\"light\\\"></ion-back-button>\\n    <ion-title>Your ToDos</ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" slot=\\\"icon-only\\\">\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let todo of todos\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h2> {{ todo.data().title }} </h2>\\n          <h3> {{ todo.data().description }} </h3>\\n          <p *ngIf=\\\"todo.data().last_date\\\" [innerHTML]=\\\"getDate(todo.data().last_date)\\\"></p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"secondary\\\" (click)=\\\"markCompleted(todo)\\\">\\n          <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\" (click)=\\\"gotoAddTodo()\\\">\\n    <ion-fab-button color=\\\"danger\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TodosPage } from './todos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TodosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TodosPageRoutingModule } from './todos-routing.module';\n\nimport { TodosPage } from './todos.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TodosPageRoutingModule\n  ],\n  declarations: [TodosPage]\n})\nexport class TodosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL3RvZG9zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController } from '@ionic/angular';\nimport * as firebase from 'firebase';\n\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.page.html',\n  styleUrls: ['./todos.page.scss'],\n})\nexport class TodosPage implements OnInit {\n\n  userId: string;\n  todos: any[] = [];\n\n  constructor(private navCtrl: NavController, private toastCtrl: ToastController) { \n    this.userId = firebase.auth().currentUser.uid;\n    this.getTodos();\n  }\n\n  ngOnInit() {\n  }\n\n  getTodos() {\n\n    firebase.firestore().collection(\"todos\")\n    .where(\"owner\", \"==\", this.userId)\n    .where(\"status\", \"==\", \"incomplete\")\n    .onSnapshot((querySnapshot) => {\n      this.todos = querySnapshot.docs;\n    });\n\n  }\n\n  getDate(timestamp: firebase.firestore.Timestamp) {\n    let date = timestamp.toDate();\n    return date.toLocaleDateString();\n  }\n\n  gotoAddTodo() {\n    this.navCtrl.navigateForward(['/add-todo']);\n  }\n\n  markCompleted(document: firebase.firestore.QueryDocumentSnapshot) {\n\n    firebase.firestore().collection(\"todos\").doc(document.id).set({\n      \"status\": \"completed\"\n    }, {\n      merge: true\n    }).then(() => {\n      this.toastCtrl.create({\n        message: \"Todo item marked as completed!\",\n        duration: 2000\n      }).then((toast) => {\n        toast.present();\n      })\n    })\n\n  }\n\n  logout() {\n    firebase.auth().signOut().then(() => {\n      this.navCtrl.navigateRoot(\"/login\");\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n}\n"]}