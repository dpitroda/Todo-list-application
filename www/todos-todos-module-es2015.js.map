{"version":3,"sources":["./src/app/todos/todos.page.html","./src/app/todos/todos-routing.module.ts","./src/app/todos/todos.module.ts","./src/app/todos/todos.page.scss","./src/app/todos/todos.page.ts"],"names":[],"mappings":"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","file":"todos-todos-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"danger\\\">\\n    <ion-back-button color=\\\"light\\\"></ion-back-button>\\n    <ion-title>Your ToDos</ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" slot=\\\"icon-only\\\">\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let todo of todos\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h2> {{ todo.data().title }} </h2>\\n          <h3> {{ todo.data().description }} </h3>\\n          <p *ngIf=\\\"todo.data().last_date\\\" [innerHTML]=\\\"getDate(todo.data().last_date)\\\"></p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"secondary\\\" (click)=\\\"markCompleted(todo)\\\">\\n          <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\" (click)=\\\"gotoAddTodo()\\\">\\n    <ion-fab-button color=\\\"danger\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TodosPage } from './todos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TodosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TodosPageRoutingModule } from './todos-routing.module';\n\nimport { TodosPage } from './todos.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TodosPageRoutingModule\n  ],\n  declarations: [TodosPage]\n})\nexport class TodosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL3RvZG9zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController } from '@ionic/angular';\nimport * as firebase from 'firebase';\n\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.page.html',\n  styleUrls: ['./todos.page.scss'],\n})\nexport class TodosPage implements OnInit {\n\n  userId: string;\n  todos: any[] = [];\n\n  constructor(private navCtrl: NavController, private toastCtrl: ToastController) { \n    this.userId = firebase.auth().currentUser.uid;\n    this.getTodos();\n  }\n\n  ngOnInit() {\n  }\n\n  getTodos() {\n\n    firebase.firestore().collection(\"todos\")\n    .where(\"owner\", \"==\", this.userId)\n    .where(\"status\", \"==\", \"incomplete\")\n    .onSnapshot((querySnapshot) => {\n      this.todos = querySnapshot.docs;\n    });\n\n  }\n\n  getDate(timestamp: firebase.firestore.Timestamp) {\n    let date = timestamp.toDate();\n    return date.toLocaleDateString();\n  }\n\n  gotoAddTodo() {\n    this.navCtrl.navigateForward(['/add-todo']);\n  }\n\n  markCompleted(document: firebase.firestore.QueryDocumentSnapshot) {\n\n    firebase.firestore().collection(\"todos\").doc(document.id).set({\n      \"status\": \"completed\"\n    }, {\n      merge: true\n    }).then(() => {\n      this.toastCtrl.create({\n        message: \"Todo item marked as completed!\",\n        duration: 2000\n      }).then((toast) => {\n        toast.present();\n      })\n    })\n\n  }\n\n  logout() {\n    firebase.auth().signOut().then(() => {\n      this.navCtrl.navigateRoot(\"/login\");\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}